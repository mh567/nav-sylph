# Nav Sylph - ä¸ªäººå¯¼èˆªé¡µ

ä¸€ä¸ªæç®€ã€é«˜æ•ˆçš„ä¸ªäººå¯¼èˆªä¸ä¹¦ç­¾ç®¡ç†é¡µé¢ï¼Œæä¾›æœ€çº¯ç²¹çš„æµè§ˆèµ·æ­¥ä½“éªŒã€‚

![é¢„è§ˆ](docs/preview.png)

## åŠŸèƒ½ç‰¹æ€§

- **æç®€è®¾è®¡**ï¼šçº¯å‡€æ— å¹¿å‘Šï¼Œç§’å¼€ä½“éªŒï¼Œä¸“æ³¨æœç´¢ä¸ä¹¦ç­¾
- **è‡ªå®šä¹‰æœç´¢**ï¼šå†…ç½®å¤šä¸ªæœç´¢å¼•æ“ï¼Œæ”¯æŒåœ¨ç®¡ç†é¢æ¿è®¾ç½®é»˜è®¤å¼•æ“
- **ä¹¦ç­¾åˆ†ç±»ç®¡ç†**ï¼šæ”¯æŒè‡ªå®šä¹‰åˆ†ç±»åç§°åŠä¹¦ç­¾é“¾æ¥ï¼Œæ‹–æ‹½æ’åº
- **æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢**ï¼šæ”¯æŒã€Œå›¾æ ‡+æ–‡å­—ã€å’Œã€Œçº¯æ–‡å­—ã€ä¸¤ç§ä¹¦ç­¾æ˜¾ç¤ºæ¨¡å¼
- **ç®¡ç†é¢æ¿**ï¼šç‚¹å‡»å³ä¸‹è§’å›¾æ ‡è¿›å…¥å¯è§†åŒ–ç¼–è¾‘
- **PWA æ”¯æŒ**ï¼šå¯å®‰è£…åˆ°æ¡Œé¢æˆ–æ‰‹æœºä¸»å±ï¼ŒåƒåŸç”Ÿåº”ç”¨ä¸€æ ·ä½¿ç”¨
- **å“åº”å¼å¸ƒå±€**ï¼šå®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼Œæ”¯æŒç³»ç»Ÿçº§æš—é»‘æ¨¡å¼
- **å®‰å…¨é˜²æŠ¤**ï¼šRate Limitingã€å®‰å…¨å¤´ã€bcrypt å¯†ç åŠ å¯†
- **çµæ´»é…ç½®**ï¼šæ”¯æŒç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶å¤šç§é…ç½®æ–¹å¼
- **HTTPS æ”¯æŒ**ï¼šå¯é€‰å¯ç”¨ HTTPSï¼Œæ”¯æŒè‡ªå®šä¹‰è¯ä¹¦è·¯å¾„

## ä¸€é”®éƒ¨ç½²

### ğŸš€ æœåŠ¡å™¨éƒ¨ç½² (Linux)

```bash
# ä¸€é”®å®‰è£…
curl -fsSL https://raw.githubusercontent.com/mh567/nav-sylph/main/install.sh | bash

# è®¾ç½®å¼€æœºè‡ªå¯ (å¯é€‰)
cd ~/nav-sylph
sudo ./manage.sh enable
```

### ğŸ’» æœ¬åœ°éƒ¨ç½²

#### Linux / macOS

```bash
# ä¸€é”®å®‰è£…
curl -fsSL https://raw.githubusercontent.com/mh567/nav-sylph/main/install.sh | bash
```

#### Windows

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ Git Bash æˆ– WSL**

```bash
curl -fsSL https://raw.githubusercontent.com/mh567/nav-sylph/main/install.sh | bash
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…**

```powershell
# 1. å…‹éš†ä»“åº“
git clone https://github.com/mh567/nav-sylph.git
cd nav-sylph

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨æœåŠ¡
npm start
```

### ğŸ“¦ è‡ªå®šä¹‰å®‰è£…ç›®å½•

```bash
# æŒ‡å®šå®‰è£…ç›®å½•
NAV_SYLPH_DIR=/opt/nav-sylph curl -fsSL https://raw.githubusercontent.com/mh567/nav-sylph/main/install.sh | bash
```

### ğŸ”„ æ›´æ–°ä¸å¸è½½

```bash
cd ~/nav-sylph

# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
./install.sh update

# å¸è½½
./install.sh uninstall
```

## é»˜è®¤å¯†ç 

| é¡¹ç›® | å€¼ |
|------|-----|
| **é»˜è®¤ç®¡ç†å¯†ç ** | `admin123` |

> âš ï¸ **å®‰å…¨æç¤º**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³åœ¨ç®¡ç†é¢æ¿ä¸­ä¿®æ”¹å¯†ç ï¼

æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ [http://127.0.0.1:4000](http://127.0.0.1:4000)ã€‚

## ä¼ ç»Ÿæ–¹å¼éƒ¨ç½²

```bash
git clone https://github.com/mh567/nav-sylph.git
cd nav-sylph
npm install
npm start
```

## ç®¡ç†è„šæœ¬

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `./manage.sh install` | åˆå§‹åŒ–ï¼šå®‰è£…ä¾èµ–ã€åˆ›å»ºç›®å½•ã€ç”Ÿæˆé…ç½® |
| `./manage.sh start` | å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰ |
| `./manage.sh stop` | ä¼˜é›…åœæ­¢æœåŠ¡ |
| `./manage.sh restart` | é‡å¯æœåŠ¡ |
| `./manage.sh status` | æŸ¥çœ‹è¿è¡ŒçŠ¶æ€å’Œå¥åº·æ£€æŸ¥ |
| `./manage.sh logs` | æŸ¥çœ‹å®æ—¶æ—¥å¿— |
| `sudo ./manage.sh enable` | å®‰è£… systemd æœåŠ¡å¹¶å¯ç”¨å¼€æœºè‡ªå¯ |
| `sudo ./manage.sh disable` | å¸è½½ systemd æœåŠ¡ |

## ç•Œé¢è®¾ç½®

åœ¨ç®¡ç†é¢æ¿ä¸­å¯é…ç½®ï¼š

| è®¾ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| **é»˜è®¤æœç´¢å¼•æ“** | è®¾ç½®é¡µé¢åŠ è½½æ—¶ä½¿ç”¨çš„æœç´¢å¼•æ“ |
| **ä¹¦ç­¾æ˜¾ç¤ºæ¨¡å¼** | ã€Œå›¾æ ‡+æ–‡å­—ã€æ˜¾ç¤ºç½‘ç«™å›¾æ ‡ï¼Œã€Œçº¯æ–‡å­—æ¨¡å¼ã€ä»…æ˜¾ç¤ºæ ‡é¢˜ |

çº¯æ–‡å­—æ¨¡å¼ç‰¹åˆ«é€‚åˆï¼š
- è¿½æ±‚æç®€é£æ ¼çš„ç”¨æˆ·
- ç½‘ç»œç¯å¢ƒè¾ƒå·®ï¼ˆå‡å°‘å›¾æ ‡è¯·æ±‚ï¼‰
- ç§»åŠ¨ç«¯æ›´å¤§çš„è§¦æ§åŒºåŸŸ

## æœåŠ¡å™¨é…ç½®

### é…ç½®ä¼˜å…ˆçº§

```
é»˜è®¤å€¼ â†’ server-config.json â†’ .env æ–‡ä»¶ â†’ ç¯å¢ƒå˜é‡
```

### ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶ç¼–è¾‘ï¼š

| å˜é‡ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `SERVER_HOST` | `127.0.0.1` | ç›‘å¬åœ°å€ |
| `SERVER_PORT` | `4000` | ç›‘å¬ç«¯å£ |
| `HTTPS_ENABLED` | `false` | æ˜¯å¦å¯ç”¨ HTTPS |
| `HTTPS_KEY_PATH` | - | SSL ç§é’¥è·¯å¾„ |
| `HTTPS_CERT_PATH` | - | SSL è¯ä¹¦è·¯å¾„ |
| `HTTPS_CA_PATH` | - | CA è¯ä¹¦é“¾è·¯å¾„ï¼ˆå¯é€‰ï¼‰ |
| `ADMIN_PASSWORD_FILE` | `.admin-password.json` | å¯†ç æ–‡ä»¶è·¯å¾„ |
| `LOG_DIR` | `logs` | æ—¥å¿—ç›®å½• |

### JSON é…ç½®æ–‡ä»¶

åˆ›å»º `server-config.json`ï¼š

```json
{
  "server": {
    "host": "127.0.0.1",
    "port": 4000,
    "https": {
      "enabled": false,
      "keyPath": "",
      "certPath": ""
    }
  }
}
```

## å®‰å…¨ç‰¹æ€§

### å·²å®ç°çš„å®‰å…¨æªæ–½

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **å¯†ç åŠ å¯†** | bcrypt (cost=10) å“ˆå¸Œå­˜å‚¨ |
| **å¯†ç å¼ºåº¦** | æœ€ä½ 8 ä½å­—ç¬¦ |
| **Rate Limiting** | è®¤è¯æ¥å£é™æµï¼ˆ60ç§’å†…æœ€å¤š10æ¬¡ï¼‰ |
| **å®‰å…¨å¤´** | X-Content-Type-Options, X-Frame-Options, X-XSS-Protection, Referrer-Policy |
| **æœ¬åœ°ç»‘å®š** | é»˜è®¤ä»…ç›‘å¬ 127.0.0.1 |
| **XSS é˜²æŠ¤** | å‰ç«¯è¾“å‡ºè‡ªåŠ¨è½¬ä¹‰ |

### ç”Ÿäº§éƒ¨ç½²å®‰å…¨æ¸…å•

- [ ] ä¿®æ”¹é»˜è®¤å¯†ç  `admin123`ï¼ˆ**å¿…é¡»**ï¼‰
- [ ] é…ç½® HTTPS æˆ–ä½¿ç”¨åå‘ä»£ç†
- [ ] è®¾ç½®æ•æ„Ÿæ–‡ä»¶æƒé™ï¼š`chmod 600 .admin-password.json`
- [ ] é…ç½®é˜²ç«å¢™è§„åˆ™
- [ ] å®šæœŸæ›´æ–°ä¾èµ–ï¼š`npm audit && npm update`

## API æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/config` | GET | è·å–ä¹¦ç­¾é…ç½® |
| `/api/config` | POST | ä¿å­˜é…ç½®ï¼ˆéœ€ `X-Admin-Password` å¤´ï¼‰ |
| `/api/verify-password` | POST | éªŒè¯ç®¡ç†å¯†ç  |
| `/api/change-password` | POST | ä¿®æ”¹å¯†ç ï¼ˆbody: `{newPassword}`ï¼‰ |
| `/api/health` | GET | å¥åº·æ£€æŸ¥ |

**æ³¨æ„**ï¼šPOST æ¥å£å— Rate Limiting ä¿æŠ¤ã€‚

## ä¹¦ç­¾é…ç½®

é…ç½®ä¿å­˜åœ¨ `config.json`ï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `theme` | String | ä¸»é¢˜ï¼š`light`ã€`dark`ã€`auto` |
| `searchEngine` | String | é»˜è®¤æœç´¢å¼•æ“ ID |
| `showBookmarkIcons` | Boolean | æ˜¯å¦æ˜¾ç¤ºä¹¦ç­¾å›¾æ ‡ |
| `searchEngines` | Array | æœç´¢å¼•æ“åˆ—è¡¨ |
| `categories` | Array | ä¹¦ç­¾åˆ†ç±»åˆ—è¡¨ |

## Systemd æœåŠ¡

ç”Ÿäº§ç¯å¢ƒä¸€é”®å®‰è£…ï¼š

```bash
sudo ./manage.sh enable    # å®‰è£…å¹¶å¯ç”¨å¼€æœºè‡ªå¯
sudo ./manage.sh disable   # å¸è½½æœåŠ¡
```

## ç›®å½•ç»“æ„

```
nav-sylph/
â”œâ”€â”€ public/                 # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ app.js             # å‰ç«¯é€»è¾‘
â”‚   â”œâ”€â”€ styles.css         # æ ·å¼
â”‚   â”œâ”€â”€ sw.js              # Service Worker (PWA)
â”‚   â”œâ”€â”€ manifest.json      # PWA æ¸…å•
â”‚   â”œâ”€â”€ favicon.svg        # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ icon.svg           # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ server-config/          # æœåŠ¡å™¨é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ defaults.js        # é»˜è®¤é…ç½®
â”‚   â””â”€â”€ index.js           # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ logs/                   # æ—¥å¿—ç›®å½•
â”œâ”€â”€ config.json            # ä¹¦ç­¾æ•°æ®
â”œâ”€â”€ server.js              # åç«¯æœåŠ¡
â”œâ”€â”€ manage.sh              # ç®¡ç†è„šæœ¬
â”œâ”€â”€ package.json           # ä¾èµ–é…ç½®
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ nav-sylph.service      # systemd æœåŠ¡æ–‡ä»¶
â”œâ”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—
â””â”€â”€ README.md              # è¯´æ˜æ–‡æ¡£
```

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šåŸç”Ÿ JavaScript (ES6+), CSS3, HTML5
- **åç«¯**ï¼šNode.js + Express.js
- **å®‰å…¨**ï¼šbcrypt å¯†ç åŠ å¯†ã€Rate Limitingã€å®‰å…¨å¤´
- **å­˜å‚¨**ï¼šJSON æ–‡ä»¶å­˜å‚¨

## è®¸å¯è¯

MIT License
